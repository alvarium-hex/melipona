<div class="history">
  <div [class.flex-row-reverse]="message.author != 'Lovelace'"
       *ngFor="let message of messages"
       class="flex items-center gap-2">
    <div class="flex-shrink-0 bg-white rounded-md py-2 px-3 aspect-square bg flex items-center justify-center"
         [class.bg-indigo-200]="message.author != 'Lovelace'"
         [class.bg-emerald-200]="message.author == 'Lovelace'">
      <mat-icon aria-hidden="false"
                *ngIf="message.author == 'Lovelace'">compass_calibration</mat-icon>
      <mat-icon aria-hidden="false"
                *ngIf="message.author != 'Lovelace'">person</mat-icon>
    </div>
    <div class="flex-grow bg-white px-4 pt-4 pb-1 rounded-md">
      <markdown ngPreserveWhitespaces>
        {{ message.content }}
      </markdown>
    </div>
    <div class="flex-shrink-0 w-12 h-12"></div>
  </div>
</div>

<div class="bottom-input">
  <form class="flex items-start flex-col">
    <div class="typing bg-white mb-2 p-2 rounded-lg flex items-center gap-2 flex-shrink-0"
         *ngIf="isTyping">
      <mat-icon>compass_calibration</mat-icon>
      Bot is typing...
    </div>
    <mat-form-field class="full-width">
      <mat-label>Chat</mat-label>
      <textarea (keyup.enter)="submit()"
                matInput
                placeholder="Ex. Tell me something interesting"
                [(ngModel)]="entry"
                name="entry"></textarea>
      <button matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="submit()">
        <mat-icon>send</mat-icon>
      </button>
    </mat-form-field>
  </form>
</div>
